# Patient & Case Management Architecture

## System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE LAYER                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   Fax    â”‚  â”‚   Web    â”‚  â”‚   Call   â”‚  â”‚  Manual  â”‚            â”‚
â”‚  â”‚  Inbox   â”‚  â”‚  Leads   â”‚  â”‚   Logs   â”‚  â”‚  Entry   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â”‚
â”‚       â”‚             â”‚             â”‚             â”‚                    â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                          â”‚                                           â”‚
â”‚                          â–¼                                           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚              â”‚ Create Patient + Case  â”‚                              â”‚
â”‚              â”‚     Wizard/Modal       â”‚                              â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                          â”‚                                           â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚       â”‚                  â”‚                  â”‚                        â”‚
â”‚       â–¼                  â–¼                  â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ Patient â”‚    â”‚   Patient    â”‚    â”‚  Patient â”‚                   â”‚
â”‚  â”‚ Search  â”‚    â”‚     Form     â”‚    â”‚ Profile  â”‚                   â”‚
â”‚  â”‚  Modal  â”‚    â”‚  (Tabbed)    â”‚    â”‚  Sheet   â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BUSINESS LOGIC LAYER                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ Patient Service  â”‚         â”‚  Case Service    â”‚                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚  â”‚ â€¢ create()       â”‚         â”‚ â€¢ create()       â”‚                  â”‚
â”‚  â”‚ â€¢ search()       â”‚         â”‚ â€¢ update()       â”‚                  â”‚
â”‚  â”‚ â€¢ update()       â”‚         â”‚ â€¢ getByPatient() â”‚                  â”‚
â”‚  â”‚ â€¢ getById()      â”‚         â”‚ â€¢ getById()      â”‚                  â”‚
â”‚  â”‚ â€¢ checkDupes()   â”‚         â”‚ â€¢ close()        â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚           â”‚                            â”‚                             â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                      â”‚                                               â”‚
â”‚                      â–¼                                               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚         â”‚   Duplicate Detection   â”‚                                 â”‚
â”‚         â”‚   â€¢ Fuzzy name match    â”‚                                 â”‚
â”‚         â”‚   â€¢ Phone number match  â”‚                                 â”‚
â”‚         â”‚   â€¢ DOB + name match    â”‚                                 â”‚
â”‚         â”‚   â€¢ Email match         â”‚                                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DATA LAYER                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  Patient Table   â”‚         â”‚   Case Table     â”‚                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚  â”‚ â€¢ id (PK)        â”‚         â”‚ â€¢ id (PK)        â”‚                  â”‚
â”‚  â”‚ â€¢ mrn            â”‚â—„â”€â”€â”€â”€â”   â”‚ â€¢ patient_id (FK)â”œâ”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ â€¢ firstName      â”‚     â”‚   â”‚ â€¢ diagnosis      â”‚     â”‚            â”‚
â”‚  â”‚ â€¢ lastName       â”‚     â””â”€â”€â”€â”¤ â€¢ referral_info  â”‚     â”‚            â”‚
â”‚  â”‚ â€¢ dob            â”‚         â”‚ â€¢ auth_status    â”‚     â”‚            â”‚
â”‚  â”‚ â€¢ phone          â”‚         â”‚ â€¢ status         â”‚     â”‚            â”‚
â”‚  â”‚ â€¢ email          â”‚         â”‚ â€¢ created_at     â”‚     â”‚            â”‚
â”‚  â”‚ â€¢ insurance      â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚            â”‚
â”‚  â”‚ â€¢ created_at     â”‚                                  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚            â”‚
â”‚           â”‚                                            â”‚            â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                            â”‚                                         â”‚
â”‚                            â–¼                                         â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                  â”‚  Activity Log     â”‚                               â”‚
â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                               â”‚
â”‚                  â”‚ â€¢ patient_id (FK) â”‚                               â”‚
â”‚                  â”‚ â€¢ case_id (FK)    â”‚                               â”‚
â”‚                  â”‚ â€¢ type            â”‚                               â”‚
â”‚                  â”‚ â€¢ description     â”‚                               â”‚
â”‚                  â”‚ â€¢ timestamp       â”‚                               â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXTERNAL INTEGRATIONS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚   EMR System     â”‚         â”‚  Clearinghouse   â”‚                  â”‚
â”‚  â”‚  (Prompt/NEO)    â”‚         â”‚  (E&B Checks)    â”‚                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚  â”‚ â€¢ Create Patient â”‚         â”‚ â€¢ Verify Eligib. â”‚                  â”‚
â”‚  â”‚ â€¢ Create Episode â”‚         â”‚ â€¢ Check Benefits â”‚                  â”‚
â”‚  â”‚ â€¢ Get MRN        â”‚         â”‚ â€¢ Get Auth Info  â”‚                  â”‚
â”‚  â”‚ â€¢ Sync Updates   â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PATIENT                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ID: PAT-001                       â”‚  â”‚
â”‚  â”‚ Name: John Smith                  â”‚  â”‚
â”‚  â”‚ DOB: 1985-03-15                   â”‚  â”‚
â”‚  â”‚ Phone: (555) 123-4567             â”‚  â”‚
â”‚  â”‚ Insurance: BCBS #ABC123456        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ has many
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     â”‚               â”‚
    â–¼                     â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CASE 1  â”‚         â”‚ CASE 2  â”‚     â”‚ CASE 3  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Shoulderâ”‚         â”‚ Back    â”‚     â”‚ Knee    â”‚
â”‚ Rehab   â”‚         â”‚ Pain    â”‚     â”‚ Injury  â”‚
â”‚         â”‚         â”‚         â”‚     â”‚         â”‚
â”‚ Status: â”‚         â”‚ Status: â”‚     â”‚ Status: â”‚
â”‚Completedâ”‚         â”‚ Active  â”‚     â”‚  New    â”‚
â”‚         â”‚         â”‚         â”‚     â”‚         â”‚
â”‚ Jan-Mar â”‚         â”‚ Current â”‚     â”‚ Future  â”‚
â”‚  2024   â”‚         â”‚         â”‚     â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Workflow: Creating Patient from Fax

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FAX ARRIVES                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ From: Dr. Anderson (Orthopedic Associates)                 â”‚     â”‚
â”‚  â”‚ Patient: John Smith, DOB: 03/15/1985                       â”‚     â”‚
â”‚  â”‚ Diagnosis: Lower back pain                                 â”‚     â”‚
â”‚  â”‚ Insurance: BCBS #ABC123456                                 â”‚     â”‚
â”‚  â”‚ Order: PT eval & treatment, 3x/week for 6 weeks            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                  User clicks "Create Patient + Case"
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   STEP 1: PATIENT SEARCH                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Searching for:                                             â”‚     â”‚
â”‚  â”‚  â€¢ Name: John Smith                                        â”‚     â”‚
â”‚  â”‚  â€¢ Phone: (555) 123-4567                                   â”‚     â”‚
â”‚  â”‚  â€¢ DOB: 03/15/1985                                         â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ Results: No matches found âœ“                               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                      â”‚
â”‚  [No Match Found - Create New Patient] â—„â”€ User clicks                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               STEP 2: PATIENT FORM (PRE-FILLED)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Demographics Tab:                                        â”‚       â”‚
â”‚  â”‚  First Name: [John] âœ“                                   â”‚       â”‚
â”‚  â”‚  Last Name: [Smith] âœ“                                   â”‚       â”‚
â”‚  â”‚  DOB: [03/15/1985] âœ“                                    â”‚       â”‚
â”‚  â”‚  Gender: [Male] â† User fills                            â”‚       â”‚
â”‚  â”‚                                                          â”‚       â”‚
â”‚  â”‚ Contact Tab:                                             â”‚       â”‚
â”‚  â”‚  Primary Phone: [(555) 123-4567] âœ“                      â”‚       â”‚
â”‚  â”‚  Email: [ ] â† User fills                                â”‚       â”‚
â”‚  â”‚  Address: [ ] â† User fills                              â”‚       â”‚
â”‚  â”‚                                                          â”‚       â”‚
â”‚  â”‚ Insurance Tab:                                           â”‚       â”‚
â”‚  â”‚  Company: [Blue Cross Blue Shield] âœ“                    â”‚       â”‚
â”‚  â”‚  Member ID: [ABC123456] âœ“                               â”‚       â”‚
â”‚  â”‚  Group #: [ ] â† User fills                              â”‚       â”‚
â”‚  â”‚                                                          â”‚       â”‚
â”‚  â”‚ Consent Tab:                                             â”‚       â”‚
â”‚  â”‚  â˜‘ HIPAA Consent                                        â”‚       â”‚
â”‚  â”‚  â˜‘ Treatment Consent                                    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â”‚  [Cancel]  [Create Patient] â—„â”€ User clicks                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                   Patient created in DB
                   MRN assigned: MRN-12345
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               STEP 3: CASE FORM (PRE-FILLED)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Patient: John Smith (MRN-12345) â† Read-only              â”‚       â”‚
â”‚  â”‚                                                          â”‚       â”‚
â”‚  â”‚ Referral Info:                                           â”‚       â”‚
â”‚  â”‚  Referring Provider: [Dr. Anderson] âœ“                   â”‚       â”‚
â”‚  â”‚  Organization: [Orthopedic Associates] âœ“                â”‚       â”‚
â”‚  â”‚  Referral Date: [01/15/2024] âœ“                          â”‚       â”‚
â”‚  â”‚  Source: [Fax] âœ“                                        â”‚       â”‚
â”‚  â”‚                                                          â”‚       â”‚
â”‚  â”‚ Diagnosis:                                               â”‚       â”‚
â”‚  â”‚  Primary: [Lower back pain] âœ“                           â”‚       â”‚
â”‚  â”‚  ICD-10: [M54.5] â† User adds                            â”‚       â”‚
â”‚  â”‚  Order: [PT eval & treatment, 3x/week for 6 weeks] âœ“   â”‚       â”‚
â”‚  â”‚                                                          â”‚       â”‚
â”‚  â”‚ Authorization:                                           â”‚       â”‚
â”‚  â”‚  Status: [Pending] â† User selects                       â”‚       â”‚
â”‚  â”‚  Network: [In-Network] â† User confirms                  â”‚       â”‚
â”‚  â”‚                                                          â”‚       â”‚
â”‚  â”‚ Treatment Plan:                                          â”‚       â”‚
â”‚  â”‚  Frequency: [3x per week] âœ“                             â”‚       â”‚
â”‚  â”‚  Duration: [6 weeks] âœ“                                  â”‚       â”‚
â”‚  â”‚  Assigned Therapist: [Sarah Wilson] â† User assigns      â”‚       â”‚
â”‚  â”‚  Location: [ETS Hartford] â† User selects                â”‚       â”‚
â”‚  â”‚  Priority: [High] â† User sets                           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â”‚  [Back]  [Create Case] â—„â”€ User clicks                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                   Case created & linked to patient
                   Case ID: CASE-001
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   STEP 4: SUCCESS & NEXT ACTIONS                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ âœ“ Patient Created: John Smith (MRN-12345)                 â”‚     â”‚
â”‚  â”‚ âœ“ Case Created: Lower back pain (CASE-001)                â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ What would you like to do next?                           â”‚     â”‚
â”‚  â”‚                                                            â”‚     â”‚
â”‚  â”‚ [Add to Opportunity Board]  â† Most common                 â”‚     â”‚
â”‚  â”‚ [Schedule Evaluation]                                      â”‚     â”‚
â”‚  â”‚ [Run E&B Check]                                           â”‚     â”‚
â”‚  â”‚ [View Patient Profile]                                     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                      â”‚
â”‚  User selects "Add to Opportunity Board"                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OPPORTUNITIES BOARD                               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Unassigned â”‚  â”‚  Assigned  â”‚  â”‚ Contacted  â”‚  â”‚  Ready to  â”‚   â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚  â”‚  Schedule  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”‚ John   â”‚â—„â”¼â”€â”€â”¼ NEW!       â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”‚ Smith  â”‚ â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”‚        â”‚ â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”‚ Lower  â”‚ â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”‚ back   â”‚ â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”‚ pain   â”‚ â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”‚        â”‚ â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”‚ High   â”‚ â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â”‚Priorityâ”‚ â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚  Agent can now work on this case âœ“                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Structure

```
src/
â”œâ”€â”€ components/
â”‚   â”‚
â”‚   â”œâ”€â”€ PatientSearchModal.tsx â—„â”€â”€â”€â”€â”
â”‚   â”‚   â”œâ”€ Input fields            â”‚
â”‚   â”‚   â”œâ”€ Search logic             â”‚
â”‚   â”‚   â””â”€ Match display            â”‚
â”‚   â”‚                               â”‚
â”‚   â”œâ”€â”€ PatientForm.tsx â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”‚   â”œâ”€ Tab: Demographics        â”‚
â”‚   â”‚   â”œâ”€ Tab: Contact             â”‚
â”‚   â”‚   â”œâ”€ Tab: Insurance           â”‚
â”‚   â”‚   â”œâ”€ Tab: Consent             â”‚
â”‚   â”‚   â””â”€ Validation logic         â”‚
â”‚   â”‚                               â”‚
â”‚   â”œâ”€â”€ CaseForm.tsx (To Create) â—„â”€â”€â”¤
â”‚   â”‚   â”œâ”€ Referral info            â”‚
â”‚   â”‚   â”œâ”€ Diagnosis                â”‚
â”‚   â”‚   â”œâ”€ Authorization            â”‚
â”‚   â”‚   â””â”€ Treatment plan           â”‚
â”‚   â”‚                               â”‚
â”‚   â””â”€â”€ CreatePatientCaseWizard.tsx â”‚
â”‚       â”œâ”€ Step 1: Search â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       â”œâ”€ Step 2: Patient Form â”€â”€â”€â”€â”¤
â”‚       â”œâ”€ Step 3: Case Form â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       â”œâ”€ Step 4: Review           â”‚
â”‚       â””â”€ Step 5: Success          â”‚
â”‚
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ patient.ts
â”‚   â”‚   â”œâ”€ Patient interface
â”‚   â”‚   â”œâ”€ CreatePatientDTO
â”‚   â”‚   â”œâ”€ UpdatePatientDTO
â”‚   â”‚   â””â”€ PatientSearchCriteria
â”‚   â”‚
â”‚   â””â”€â”€ case.ts
â”‚       â”œâ”€ Case interface
â”‚       â”œâ”€ CreateCaseDTO
â”‚       â”œâ”€ UpdateCaseDTO
â”‚       â””â”€ CaseWithPatient
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ patientService.ts
â”‚   â”‚   â”œâ”€ create()
â”‚   â”‚   â”œâ”€ search()
â”‚   â”‚   â”œâ”€ update()
â”‚   â”‚   â””â”€ getById()
â”‚   â”‚
â”‚   â”œâ”€â”€ caseService.ts
â”‚   â”‚   â”œâ”€ create()
â”‚   â”‚   â”œâ”€ update()
â”‚   â”‚   â”œâ”€ getByPatient()
â”‚   â”‚   â””â”€ close()
â”‚   â”‚
â”‚   â””â”€â”€ emrIntegration.ts
â”‚       â”œâ”€ syncPatient()
â”‚       â”œâ”€ syncCase()
â”‚       â””â”€ getMRN()
â”‚
â””â”€â”€ pages/
    â”œâ”€â”€ FaxInbox.tsx
    â”‚   â””â”€ â• "Create Patient + Case" button
    â”‚
    â”œâ”€â”€ WebLeads.tsx
    â”‚   â””â”€ â• "Convert to Patient" button
    â”‚
    â”œâ”€â”€ Opportunities.tsx
    â”‚   â””â”€ ğŸ”„ Show Cases instead of Leads
    â”‚
    â””â”€â”€ Patients.tsx
        â””â”€ â• "Add Patient" button
```

---

## State Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APPLICATION STATE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  patients: Patient[]                                        â”‚
â”‚  cases: Case[]                                              â”‚
â”‚  selectedPatient: Patient | null                            â”‚
â”‚  selectedCase: Case | null                                  â”‚
â”‚                                                             â”‚
â”‚  Actions:                                                   â”‚
â”‚  â”œâ”€ createPatient(data) â†’ Patient                          â”‚
â”‚  â”œâ”€ updatePatient(id, data) â†’ Patient                      â”‚
â”‚  â”œâ”€ searchPatients(criteria) â†’ PatientMatchResult[]        â”‚
â”‚  â”œâ”€ createCase(data) â†’ Case                                â”‚
â”‚  â”œâ”€ updateCase(id, data) â†’ Case                            â”‚
â”‚  â””â”€ getCasesByPatient(patientId) â†’ Case[]                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

           â”‚
           â”‚ subscribes to
           â”‚
           â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UI COMPONENTS                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  FaxInbox                                                   â”‚
â”‚  â”œâ”€ usePatientCaseStore()                                   â”‚
â”‚  â””â”€ createPatient() when "Create" clicked                   â”‚
â”‚                                                             â”‚
â”‚  PatientForm                                                â”‚
â”‚  â”œâ”€ Local state for form fields                            â”‚
â”‚  â””â”€ Calls onSubmit(data) when form submitted               â”‚
â”‚                                                             â”‚
â”‚  OpportunitiesBoard                                         â”‚
â”‚  â”œâ”€ usePatientCaseStore()                                   â”‚
â”‚  â””â”€ Displays cases.filter(c => c.status === 'active')      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Decision Tree: When to Create Patient vs Case

```
                    Start
                      â”‚
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Do you have patient    â”‚
        â”‚  demographics?          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
       YES               NO
        â”‚                 â”‚
        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Search for   â”‚   â”‚  Gather info â”‚
â”‚ existing     â”‚   â”‚  first       â”‚
â”‚ patient      â”‚   â”‚              â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Found?      â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”
â”‚        â”‚
YES      NO
â”‚        â”‚
â”‚        â–¼
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â”‚ Create Patient â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Does patient need    â”‚
â”‚ treatment for a      â”‚
â”‚ NEW condition?       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
   YES       NO
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create  â”‚ â”‚ Update       â”‚
â”‚ New     â”‚ â”‚ Existing     â”‚
â”‚ Case    â”‚ â”‚ Case         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Integration Points Summary

| Entry Point | Patient Action | Case Action | Next Step |
|------------|----------------|-------------|-----------|
| **Fax Referral** | Create or Link | Create New | Opportunity Board |
| **Web Lead** | Create or Link | Create New | Opportunity Board |
| **Phone Call** | Create or Link | Create New | Opportunity Board |
| **Manual Entry** | Create Only | Optional | Patient Directory |
| **Patient Profile** | N/A | Create New | Schedule or Board |

---

## File Dependencies

```
PatientForm.tsx
    â”œâ”€â”€ requires: @/types/patient (CreatePatientDTO)
    â”œâ”€â”€ requires: @/components/ui/* (shadcn components)
    â””â”€â”€ used by: FaxInbox, WebLeads, Patients

PatientSearchModal.tsx
    â”œâ”€â”€ requires: @/types/patient (Patient, PatientMatchResult)
    â”œâ”€â”€ requires: @/components/ui/*
    â””â”€â”€ used by: FaxInbox, WebLeads, CreatePatientCaseWizard

CaseForm.tsx (to be created)
    â”œâ”€â”€ requires: @/types/case (CreateCaseDTO)
    â”œâ”€â”€ requires: @/types/patient (Patient)
    â”œâ”€â”€ requires: @/components/ui/*
    â””â”€â”€ used by: FaxInbox, PatientProfile, Opportunities

patient.ts
    â””â”€â”€ imported by: PatientForm, PatientSearchModal, patientService

case.ts
    â””â”€â”€ imported by: CaseForm, caseService, Opportunities

patientService.ts
    â”œâ”€â”€ requires: @/types/patient
    â””â”€â”€ used by: PatientForm, PatientSearchModal

caseService.ts
    â”œâ”€â”€ requires: @/types/case
    â””â”€â”€ used by: CaseForm, Opportunities
```

This visual guide should help you understand how all the pieces fit together! ğŸ¨

